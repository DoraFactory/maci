# å®¢æˆ·ç«¯åˆå§‹åŒ–

å­¦ä¹ å¦‚ä½•åˆå§‹åŒ–å’Œé…ç½® MACI å®¢æˆ·ç«¯ã€‚

## åŸºç¡€åˆå§‹åŒ–

æœ€ç®€å•çš„åˆå§‹åŒ–æ–¹å¼ï¼š

```typescript
import { MaciClient } from '@dorafactory/maci-sdk';

const client = new MaciClient({
  network: 'testnet'  // æˆ– 'mainnet'
});
```

## ç½‘ç»œé…ç½®

SDK æ”¯æŒä¸¤ç§é¢„é…ç½®ç½‘ç»œï¼š

### æµ‹è¯•ç½‘ï¼ˆTestnetï¼‰

```typescript
const client = new MaciClient({
  network: 'testnet'
});

// æµ‹è¯•ç½‘é…ç½®ï¼š
// - RPC: https://vota-testnet-rpc.dorafactory.org
// - Chain ID: vota-testnet
```

### ä¸»ç½‘ï¼ˆMainnetï¼‰

```typescript
const client = new MaciClient({
  network: 'mainnet'
});

// ä¸»ç½‘é…ç½®ï¼š
// - RPC: https://vota-rpc.dorafactory.org
// - Chain ID: vota-ash
```

## é’±åŒ…é…ç½®

### ä»ç§é’¥åˆ›å»ºé’±åŒ…

```typescript
import { DirectSecp256k1Wallet } from '@cosmjs/proto-signing';

// ä»åå…­è¿›åˆ¶ç§é’¥åˆ›å»ºé’±åŒ…
const wallet = await DirectSecp256k1Wallet.fromKey(
  Buffer.from(privateKeyHex, 'hex'),
  'dora'  // åœ°å€å‰ç¼€
);

// è·å–è´¦æˆ·ä¿¡æ¯
const [account] = await wallet.getAccounts();
console.log('åœ°å€:', account.address);
console.log('å…¬é’¥:', Buffer.from(account.pubkey).toString('hex'));
```

### ä»åŠ©è®°è¯åˆ›å»ºé’±åŒ…

```typescript
const mnemonic = "your twelve word mnemonic phrase here...";

const wallet = await DirectSecp256k1Wallet.fromMnemonic(
  mnemonic,
  {
    prefix: 'dora'
  }
);
```

## å®Œæ•´åˆå§‹åŒ–ç¤ºä¾‹

```typescript
import { MaciClient } from '@dorafactory/maci-sdk';
import { DirectSecp256k1Wallet } from '@cosmjs/proto-signing';

async function setupClient() {
  // 1. åˆ›å»ºå®¢æˆ·ç«¯
  const client = new MaciClient({
    network: 'testnet'
  });
  
  // 2. åˆ›å»ºé’±åŒ…
  const privateKey = process.env.PRIVATE_KEY;
  if (!privateKey) {
    throw new Error('è¯·è®¾ç½® PRIVATE_KEY ç¯å¢ƒå˜é‡');
  }
  
  const wallet = await DirectSecp256k1Wallet.fromKey(
    Buffer.from(privateKey, 'hex'),
    'dora'
  );
  
  // 3. è·å–è´¦æˆ·åœ°å€
  const [account] = await wallet.getAccounts();
  const address = account.address;
  
  console.log('å®¢æˆ·ç«¯åˆå§‹åŒ–å®Œæˆ');
  console.log('åœ°å€:', address);
  
  return { client, wallet, address };
}

// ä½¿ç”¨
setupClient()
  .then(({ client, wallet, address }) => {
    // å¼€å§‹ä½¿ç”¨å®¢æˆ·ç«¯
  })
  .catch(console.error);
```

## è‡ªå®šä¹‰é…ç½®

### è‡ªå®šä¹‰ RPC ç«¯ç‚¹

```typescript
const client = new MaciClient({
  network: 'testnet',
  rpcEndpoint: 'https://your-custom-rpc.example.com'
});
```

### è‡ªå®šä¹‰é“¾ ID

```typescript
const client = new MaciClient({
  network: 'testnet',
  chainId: 'custom-chain-id'
});
```

## ç¯å¢ƒå˜é‡é…ç½®

æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼š

### åˆ›å»º `.env` æ–‡ä»¶

```bash
# .env
PRIVATE_KEY=your_private_key_here
NETWORK=testnet
```

### ä½¿ç”¨ dotenv

```bash
npm install dotenv
```

```typescript
import dotenv from 'dotenv';
dotenv.config();

const client = new MaciClient({
  network: process.env.NETWORK as 'testnet' | 'mainnet'
});

const wallet = await DirectSecp256k1Wallet.fromKey(
  Buffer.from(process.env.PRIVATE_KEY!, 'hex'),
  'dora'
);
```

## é”™è¯¯å¤„ç†

```typescript
async function safeSetup() {
  try {
    const client = new MaciClient({ network: 'testnet' });
    console.log('âœ… å®¢æˆ·ç«¯åˆ›å»ºæˆåŠŸ');
    
    const wallet = await DirectSecp256k1Wallet.fromKey(
      Buffer.from(privateKey, 'hex'),
      'dora'
    );
    console.log('âœ… é’±åŒ…åˆ›å»ºæˆåŠŸ');
    
    return { client, wallet };
  } catch (error) {
    console.error('âŒ åˆå§‹åŒ–å¤±è´¥:', error);
    throw error;
  }
}
```

## ä¸‹ä¸€æ­¥

ç°åœ¨æ‚¨å·²ç»æˆåŠŸåˆå§‹åŒ–äº†å®¢æˆ·ç«¯ï¼Œæ¥ä¸‹æ¥å¯ä»¥ï¼š

- ğŸ—³ï¸ [åˆ›å»ºæŠ•ç¥¨è½®æ¬¡](/sdk/create-round) - å­¦ä¹ å¦‚ä½•åˆ›å»ºæŠ•ç¥¨
- ğŸ“ [æŠ•ç¥¨æ“ä½œ](/sdk/voting-guide) - å­¦ä¹ å¦‚ä½•æŠ•ç¥¨
- ğŸ” [æŸ¥è¯¢ API](/sdk/query-api) - å­¦ä¹ å¦‚ä½•æŸ¥è¯¢æ•°æ®
